@inherits DotNetNuke.Web.Mvc.Framework.DnnWebViewPage<IEnumerable< Christoc.Modules.ResoureLibrary.Models.Item >>

@using System.Text.RegularExpressions
@using DotNetNuke.Web.Mvc.Helpers


<div id="Items-@Dnn.ModuleContext.ModuleId">

 
        <form method="get" action="@Url.Action("Index", "Item")">
            <div class="filter-form">
                <div class="search-input">
                    <input type="text" name="searchTerm" placeholder="Search by Name, Category, or Tags" />

                </div>
                <div class="dropdown-input">
                   
                    <select name="mediaType" id="mediaType">
                        <option value="">All Media Types</option>
                        <option value="pdf">PDF</option>
                        <option value="word doc">Word Doc</option>
                        <option value="external article">External Article</option>
                        <option value="internal article">Internal Article</option>
                    </select>
                </div>
                <div class="dropdown-input">
                 
                    <select name="sortBy" id="sortBy">
                        <option value="relevance">Relevance</option>
                        <option value="newest">Newest</option>
                        <option value="oldest">Oldest</option>
                    </select>
                </div>

                <input type="submit" value="Search" />
            </div>
            
         
        </form>
   


    @if (Model.Count() == 0)
    {
        <p>@Dnn.LocalizeString("NoItems")</p>
    }
    else
    {
        <ul class="tm_tl">
            @foreach (var item in Model)
            {
                <li class="tm_t">
                    <div class="item-container">
                        <div class="image-container">
                            <!-- Add the image here. Replace 'item.ImgUrl' with the actual property holding the image URL -->
                            <img src="@item.ImgUrl" alt="@item.ItemName" />
                        </div>
                        <div class="info-container">
                            <h3 class="item-name">@item.ItemName</h3>
                            <div class="item-created-date">@item.CreatedOnDate.ToString("MMMM dd, yyyy")</div>
                            <div class="item-description">
                                @item.ItemDescription
                                <!-- Add a "Read More" button -->
                            </div>

                            <a href="@Url.Action("Details", "Item", new { itemId = item.ItemId })" class="read-more">Read More</a>

                        </div>
                    </div>
                    @{
                        if (Dnn.ModuleContext.IsEditable)
                        {
                            <div class="edit-delete-links">
                                <a href="@Url.Action("Edit", "Item", new { ctl = "Edit", itemId = item.ItemId })">@Dnn.LocalizeString("EditItem")</a>
                                <a href="@Url.Action("Delete", "Item", new { itemId = item.ItemId })">@Dnn.LocalizeString("DeleteItem")</a>
                            </div>
                        }
                    }


                    <hr />
                </li>


            }
        </ul>
    }
</div>
